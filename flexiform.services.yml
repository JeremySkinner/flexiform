services:
  flexiform.manager:
    class: Drupal\flexiform\FlexiformManager
    arguments: ['@entity_type.manager', '@class_resolver', '@string_translation', '@module_handler']
  flexiform.subscriber:
    class: Drupal\flexiform\Routing\RouteSubscriber
    arguments: ['@entity.manager', '@entity_type.manager', '@plugin.manager.flexiform.form_component_type']
    tags:
     - { name: event_subscriber }
  flexiform.token:
    class: Drupal\flexiform\Utility\Token
    parent: token
  flexiform.route_enhancer:
    class: Drupal\flexiform\Routing\FlexiformRouteEnhancer
    arguments: ['@entity.manager']
    tags:
      - { name: route_enhancer }
  flexiform.form_mode_page_access_checker:
    class: Drupal\flexiform\Access\FormModePageAccessCheck
    arguments: ['@current_user']
    tags:
      - { name: access_check, applies_to: _flexiform_form_mode_page_access_check }
  plugin.manager.flexiform_form_entity:
    class: Drupal\flexiform\FlexiformFormEntityPluginManager
    parent: default_plugin_manager
  plugin.manager.flexiform.form_component_type:
    class: Drupal\flexiform\FormComponentTypePluginManager
    parent: default_plugin_manager
  plugin.manager.flexiform.form_enhancer:
    class: Drupal\flexiform\FormEnhancerPluginManager
    parent: default_plugin_manager
  plugin.manager.flexiform.form_element:
    class: Drupal\flexiform\FormElementPluginManager
    parent: default_plugin_manager
